(()=>{let lightboxScriptsLoaded=!1;DT.loadScriptsInOrderOnce('js/jquery.js','js/jquery-ui.min.js','js/functions_cookie.js','js/components.js','js/http.js').then(loadLightBoxScript);function loadLightboxMainScripts(){return Promise.all([DT.loadScriptsInOrderOnce('js/plugins/tooltipster.bundle.min.js','js/lightboxes.js'),DT.loadCSS('css/plugins/tooltipster.bundle.min.css','css/plugins/tooltipster.themes.css','css/thumbs.css')])}
function loadLightBoxScript(){document.querySelectorAll('.js-image-wall div.item .icon-plus, .js-image-wall div.item .icon-minus').forEach((item,index)=>{item.addEventListener('click',function(e){if(lightboxScriptsLoaded)return;this.classList.add('js-lightbox-clicked');loadLightboxMainScripts().then(()=>{if(lightboxScriptsLoaded)return;lightboxScriptsLoaded=!0;setTimeout(()=>{$(item).trigger('mouseup')},1000)});e.preventDefault();e.stopPropagation()},{once:!0})});if(DT.getCookie('lbcartV')=='1')
loadLightboxMainScripts().then(()=>{lightboxScriptsLoaded=!0})}
document.querySelectorAll('.item-snippet').forEach(async(item,index)=>{await DT.yieldToMain();var wrappHeight=item.querySelector('.item-snippet__wrapper').offsetHeight;var textHeight=item.querySelector('.item-snippet__content').offsetHeight;if(textHeight<wrappHeight+20){item.removeAttribute("data-state")}else item.querySelector('.item-snippet__expand').style.visibility='visible'});document.querySelectorAll('.item-snippet .js-close-btn')[0]?.addEventListener('click',(evt)=>{DT.loadScriptsOnce('js/http.js','js/animation.js').then(async()=>{DT.http.get('/ajax/disable_text_snippet.php');await DT.yieldToMain();DT.animation.fadeOut(document.querySelector('.item-snippet'))})});document.querySelectorAll('.js-item-snippet .js-snippet-expand').forEach((expand)=>{expand.addEventListener('click',async(evt)=>{await DT.Scheduler.waitForHighPriority();let snippet=evt.target.closest('.js-item-snippet');let state=snippet.getAttribute('data-state')||'closed';if(state=='closed'){snippet.style.height=snippet.offsetHeight+'px';snippet.style.width=snippet.offsetWidth+'px';snippet.setAttribute('data-state','opened')}else{snippet.setAttribute('data-state','closed');snippet.style.height='';snippet.style.width=''}})})})()